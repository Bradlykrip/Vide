var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};!function(e){if("object"==typeof module&&"object"==typeof module.exports){var s=e(require,exports);void 0!==s&&(module.exports=s)}else"function"==typeof define&&define.amd&&define(["require","exports","fs","./index","./config"],e)}(function(e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=__importDefault(e("fs")),o=e("./index"),c=e("./config"),n=e("chalk");console.log(`${n.blue("●")} building css`);const i=[];o.$.forEach(e=>{const s=e("Vide").get()[0].attribs;Object.keys(s).includes("router")&&i.push(e.prototype.name)}),o.Css.forEach(e=>{const s=e.css,o=e.name.split(".vide")[0];let f;"undefined/"===`${c.config.outDir}/`?t.default.existsSync(`./css-${o}.css`)&&t.default.unlinkSync(`./css-${o}.css`):t.default.existsSync(`${c.config.outDir}/css-${o}.css`)&&t.default.unlinkSync(`${c.config.outDir}/css-${o}.css`),Object.keys(s).forEach((e,u)=>{const l=s[e],r=Object.keys(s[e]);let d="";if(r.forEach(e=>{const s=`\t${(e=>e&&e.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map(e=>e.toLowerCase()).join("-"))(e)}:${l[e]};\n`;d=d.concat(s)}),f=`\n${e} {\n${d}}\n`,i.includes(`${o}.vide`));else if("undefined/"===`${c.config.outDir}/`)t.default.appendFileSync(`./css-${o}.css`,f);else try{t.default.appendFileSync(`${c.config.outDir}/css-${o}.css`,f)}catch(e){console.log(`${n.red("●")} ${c.config.outDir}/ does not exist.`)}})})});